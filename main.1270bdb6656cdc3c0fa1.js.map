{"version":3,"sources":["webpack:///./js/pnotify.js","webpack:///./js/refs.js","webpack:///./js/apiService.js","webpack:///./js/galleryMarkup.js","webpack:///./js/imageFinder.js","webpack:///./templates/gallery.hbs"],"names":["defaults","styling","icons","myStack","Stack","dir1","dir2","firstpos1","firstpos2","maxStrategy","mode","delay","stack","refs","searchForm","document","querySelector","loadMoreBtn","galleryOutput","searchQuery","pageNumber","searchSuccess","getGalleryList","fetch","url","this","then","response","json","data","total","success","title","text","searchResult","Error","hits","incrementPageNumber","catch","e","error","type","resetPageNumber","value","status","galleryMarkup","galleryItems","insertAdjacentHTML","galleryMarkupTemplate","prevScrollHeight","fetchGalleryList","apiService","classList","remove","window","scrollTo","top","documentElement","offsetHeight","addEventListener","event","preventDefault","query","currentTarget","elements","toLowerCase","add","innerHTML","reset","Handlebars","module","exports","template","container","depth0","helpers","partials","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop"],"mappings":"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","file":"main.1270bdb6656cdc3c0fa1.js","sourcesContent":["// import '@pnotify/core/dist/BrightTheme.css';\r\n  // import * as PNotifyMobile from '@pnotify/mobile/dist/PNotifyMobile.js';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport {\r\n  error,\r\n  success,\r\n  info,\r\n  notice,\r\n  defaults,\r\n  defaultModules,\r\n  Stack,\r\n} from '@pnotify/core/dist/PNotify.js';\r\n\r\n\r\nimport '@pnotify/core/dist/Material.css';\r\nimport 'material-design-icons/iconfont/material-icons.css';\r\ndefaults.styling = 'material';\r\ndefaults.icons = 'material';\r\n//   defaultModules.set(PNotifyMobile, {});\r\n\r\n//  const myAlert = alert({\r\n//   text: \"I'm an alert.\",\r\n//   type: 'info'\r\n// });\r\n \r\n// // Automatically set the type.\r\n// const myNotice = notice({\r\n//   text: \"I'm a notice.\"\r\n// });\r\n \r\n// const myInfo = info({\r\n//   text: \"I'm an info message.\"\r\n// });\r\n \r\n// const mySuccess = success({\r\n//   text: \"I'm a success message.\"\r\n// });\r\n \r\n// const myError = error({\r\n//   text: \"I'm an error message.\"\r\n// });\r\n\r\nconst myStack = new Stack({\r\n  dir1: 'down',\r\n  dir2: 'left',\r\n  firstpos1: 60,\r\n  firstpos2: 70,\r\n  maxStrategy: 8,\r\n  // positioned: false,\r\n});\r\ndefaults.mode = 'light';\r\ndefaults.delay = 3000;\r\ndefaults.stack = myStack;\r\n\r\nexport { error, success, info };","const refs = {\r\n    searchForm: document.querySelector('#search-form'),\r\n    // submitBtn: document.querySelector('.js-submit-btn'),\r\n    loadMoreBtn: document.querySelector('button[data-action=\"load-more\"]'),\r\n    galleryOutput: document.querySelector('.gallery'),\r\n    // const input = document.querySelector('input[name=query]'),\r\n};\r\nexport default refs;","import { success, info, error } from './pnotify.js';\r\nconst key = '19987924-b7a96d980a74a373c9da34c4a';\r\nconst url = 'https://pixabay.com/api/?image_type=photo&orientation=horizontal';\r\nexport default {\r\nsearchQuery: '',\r\n    pageNumber: 1,\r\n    searchSuccess: false,\r\n    getGalleryList() {\r\n                    return fetch(`${url}&q=${this.searchQuery}&page=${this.pageNumber}&per_page=12&key=${key}`)\r\n                .then(response => { return response.json(); })\r\n                .then((data) => {\r\n                    if (data.total > 0) {\r\n                        success({\r\n                            title: 'Successful search!',\r\n                            text: `We've got ${data.total} images for you.`\r\n                        });\r\n                        this.searchResult(true);\r\n                        return data;\r\n                    }\r\n                    else { throw new Error() };\r\n                })\r\n                .then(({ hits }) => {\r\n                    this.incrementPageNumber();\r\n                    return hits;\r\n                })\r\n                        .catch((e) => {\r\n                     this.searchResult(false);\r\n                    error({\r\n                        title: 'Ooops! ðŸ¤·',\r\n                        text: 'There is no matches. Try another query.',\r\n                        type: 'error'\r\n                    });\r\n                })\r\n       \r\n    },\r\n    incrementPageNumber() { this.pageNumber += 1;},\r\n    resetPageNumber() {this.pageNumber = 1;\r\n },\r\n    get query() { return this.searchQuery; },\r\n    set query(value) { return this.searchQuery = value;},\r\n    searchResult(status) {this.searchSuccess = status; },\r\n};\r\n\r\n","import galleryMarkupTemplate from '../templates/gallery.hbs';\r\nimport refs from './refs';\r\nfunction galleryMarkup(galleryItems) {\r\n        return refs.galleryOutput.insertAdjacentHTML('beforeend', galleryMarkupTemplate(galleryItems))\r\n};\r\nexport default galleryMarkup;","import refs from './refs';\r\nimport {error } from './pnotify.js';\r\nimport apiService from './apiService';\r\nimport galleryMarkup from './galleryMarkup';\r\nlet prevScrollHeight = 0;\r\nrefs.searchForm.addEventListener('submit', event => {\r\n    event.preventDefault();\r\n    apiService.query = event.currentTarget.elements.query.value.toLowerCase();\r\n    apiService.resetPageNumber();\r\n    refs.loadMoreBtn.classList.add('is-hidden');\r\n    refs.galleryOutput.innerHTML = '';\r\n    refs.searchForm.reset();\r\n    if (apiService.query !== \"\") {\r\n        fetchGalleryList();\r\n       \r\n    }\r\n    else {\r\n        return error({\r\n            title: 'Search error ðŸ¤·',\r\n            text: 'Enter at least one symbol',\r\n            type: 'error'\r\n        });\r\n    }\r\n   });\r\nrefs.loadMoreBtn.addEventListener('click', () => {\r\n           fetchGalleryList(); \r\n});\r\nfunction fetchGalleryList() {\r\n    apiService.getGalleryList()\r\n        .then(hits => {\r\n        if (apiService.searchSuccess) { refs.loadMoreBtn.classList.remove('is-hidden'); };\r\n                galleryMarkup(hits);\r\n            scrollToRenderStart();\r\n        });\r\n    \r\n};\r\nfunction scrollToRenderStart() {\r\n            window.scrollTo({\r\n  top: prevScrollHeight,\r\n        });\r\n    prevScrollHeight = document.documentElement.offsetHeight-70;\r\n };","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"photo-card\\\">\\r\\n    <div class=\\\"photo-wrapper\\\">\\r\\n        <img src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"tags\") : depth0), depth0))\n    + \"\\\" />\\r\\n    </div>\\r\\n    <div class=\\\"stats\\\">\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n            &nbsp;\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"likes\") : depth0), depth0))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">visibility</i>\\r\\n            &nbsp;\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"views\") : depth0), depth0))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">comment</i>\\r\\n            &nbsp;\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"comments\") : depth0), depth0))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n            &nbsp;\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0), depth0))\n    + \"\\r\\n        </p>\\r\\n    </div>\\r\\n</div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":25,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}